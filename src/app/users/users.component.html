<div class="header">
    <app-header></app-header>
</div>
<div class="container">
    <form class="form-inline form-group">
        <input class="form-control mr-2" type="text" name="search" placeholder="All of github" id="search" [(ngModel)]="username">
        <button class="btn btn-outline-success btn-submit" (click)="findProfile()" type="submit">Search</button>
    </form>

    <div class="card" *ngIf="profile">
        <div class="card-header">
            <h3 class="text-success">{{profile.name}}</h3>
            <span>{{profile.bio}}</span>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <a href="{{profile.html_url}}" target="_blank">
                    <img class="card-img-top" src="{{profile.avatar_url}}" alt="user-profile">
                </a>
            </div>
            <div class="col-sm-6">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <span class="badge badge-dark mr-2">FOLLOWERS: {{profile.followers}}</span>
                        <span class="badge badge-dark mr-2">FOLLOWING: {{profile.following}}</span>
                        <span class="badge badge-dark mr-2">PUBLIC REPOS: {{profile.public_repos}}</span>
                        <span class="badge badge-dark mr-2">PUBLIC GISTS: {{profile.public_gists}}</span>
                    </li>
                    <li class="list-group-item" *ngIf="profile.hireable">Available for hire</li>
                    <li class="list-group-item" *ngIf="profile.company">
                        <svg class="bi bi-briefcase-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                            <path fill-rule="evenodd" d="M0 4.5A1.5 1.5 0 0 1 1.5 3h13A1.5 1.5 0 0 1 16 4.5v1.384l-7.614 2.03a1.5 1.5 0 0 1-.772 0L0 5.884V4.5zm5-2A1.5 1.5 0 0 1 6.5 1h3A1.5 1.5 0 0 1 11 2.5V3h-1v-.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V3H5v-.5z"/>
                          </svg> {{profile.company}}
                    </li>
                    <li class="list-group-item" *ngIf="profile.email">{{profile.email}}</li>
                    <li class="list-group-item" *ngIf="profile.blog">
                        <a href="{{profile.blog}}" target="_blank" class="text-info">{{profile.blog}}</a>
                    </li>
                    <li class="list-group-item" *ngIf="profile.location">{{profile.location}}</li>
                    <li class="list-group-item">{{profile.updated_at}}</li>
                </ul>
            </div>
        </div>
        <div>
            <h2>Latest Repos</h2>
            <ul class="list-group list-group-flush" *ngFor="let repo of work">
                <li class="list-group-item">
                    <strong>{{repo.name}}</strong>
                    <div class="float-right">
                        <span class="btn btn-sm btn-outline-light mr-2">watch: {{repo.watchers_count}}</span>
                        <span class="btn btn-sm btn-outline-light mr-2">fork: {{repo.forks_count}}</span>
                        <span class="btn btn-sm btn-outline-light mr-2">stars: {{repo.stargazers_count}}</span>
                        <span class="btn btn-sm btn-outline-light mr-2"><a href="{{repo.html_url}}">view:</a></span>
                    </div>
                    <p>{{repo.description}}</p>
                </li>
                <hr class="line">
            </ul>
        </div>
    </div>
</div>